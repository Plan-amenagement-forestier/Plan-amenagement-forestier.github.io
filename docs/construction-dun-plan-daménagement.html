<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Construction d’un plan d’aménagement | Création d’un plan d’aménagement forestier numérique</title>
  <meta name="description" content="3 Construction d’un plan d’aménagement | Création d’un plan d’aménagement forestier numérique" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Construction d’un plan d’aménagement | Création d’un plan d’aménagement forestier numérique" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Construction d’un plan d’aménagement | Création d’un plan d’aménagement forestier numérique" />
  
  
  

<meta name="author" content="Florent Benoit-Pépin" />


<meta name="date" content="2021-02-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="description-du-plan-daménagement-numérique.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>
<link href="libs/lfx-wms-legend-0.0.1/lfx-wms-legend-prod.css" rel="stylesheet" />
<script src="libs/lfx-wms-legend-0.0.1/lfx-wms-legend-prod.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.20/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.20/js/dataTables.fixedColumns.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="Style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="description-du-plan-daménagement-numérique.html"><a href="description-du-plan-daménagement-numérique.html"><i class="fa fa-check"></i><b>2</b> Description du plan d’aménagement numérique</a><ul>
<li class="chapter" data-level="2.1" data-path="description-du-plan-daménagement-numérique.html"><a href="description-du-plan-daménagement-numérique.html#la-carte-interactive"><i class="fa fa-check"></i><b>2.1</b> La carte interactive</a></li>
<li class="chapter" data-level="2.2" data-path="description-du-plan-daménagement-numérique.html"><a href="description-du-plan-daménagement-numérique.html#la-table-des-peuplement"><i class="fa fa-check"></i><b>2.2</b> La table des peuplement</a></li>
<li class="chapter" data-level="2.3" data-path="description-du-plan-daménagement-numérique.html"><a href="description-du-plan-daménagement-numérique.html#mise-en-place-du-plan-daménagement-forestier-numérique"><i class="fa fa-check"></i><b>2.3</b> Mise en place du plan d’aménagement forestier numérique</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html"><i class="fa fa-check"></i><b>3</b> Construction d’un plan d’aménagement</a><ul>
<li class="chapter" data-level="3.1" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#étapes-préliminaires"><i class="fa fa-check"></i><b>3.1</b> Étapes Préliminaires</a></li>
<li class="chapter" data-level="3.2" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#programmation-des-objets-qui-seront-affiché-dans-linterface"><i class="fa fa-check"></i><b>3.2</b> Programmation des objets qui seront affiché dans l’interface</a><ul>
<li class="chapter" data-level="3.2.1" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#la-carte-interactive-1"><i class="fa fa-check"></i><b>3.2.1</b> La carte interactive</a></li>
<li class="chapter" data-level="3.2.2" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#la-table-des-peuplements"><i class="fa fa-check"></i><b>3.2.2</b> La table des peuplements</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#programmation-des-interactions-entre-la-carte-et-la-table-des-peuplements"><i class="fa fa-check"></i><b>3.3</b> Programmation des interactions entre la carte et la table des peuplements</a></li>
<li class="chapter" data-level="3.4" data-path="construction-dun-plan-daménagement.html"><a href="construction-dun-plan-daménagement.html#programation-de-linterface"><i class="fa fa-check"></i><b>3.4</b> Programation de l’interface</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>4</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="bibliographie.html"><a href="bibliographie.html"><i class="fa fa-check"></i>Bibliographie</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Création d’un plan d’aménagement forestier numérique</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="construction-dun-plan-daménagement" class="section level1">
<h1><span class="header-section-number">3</span> Construction d’un plan d’aménagement</h1>
<p>Dans cette section, nous verrons la marche à suivre pour créer un plan d’aménagement numérique. Ce plan sera sous forme d’une application web construite principalement à partir du langage de programmation R, du logiciel <a href="https://rstudio.com/">Rstudio</a>, un environnement de développement pour R, et de la bibliothèque logicielle (“Package”) <a href="https://shiny.rstudio.com/">Shiny</a>.</p>
<p>Avant de commencer la programmation, il faut avoir fait ou obtenu au préalable le découpage des peuplements forestiers du lot et leur description qui leur sont associés au format shapefile (shp.). Pour vous assister dans la création de votre première application Shiny, le code complet et les données nécessaires pour sa création sont disponibles sur <a href="https://github.com/florent1208/Plan_amenagement">Github</a>.</p>
<p>Ci-dessous, vous trouverez plusieurs liens qui vous seront utiles pour la création de cette application :</p>
<ul>
<li><a href="https://rstudio.com/wp-content/uploads/2015/08/shiny-french-cheatsheet.pdf">Aide-mémoire Shiny</a></li>
<li><a href="https://mastering-shiny.org/index.html">Mastering Shiny</a></li>
<li><a href="https://rstudio.github.io/leaflet/">Leaflet for R</a></li>
<li><a href="https://rstudio.github.io/DT/">DT: An R interface to the DataTables library</a></li>
<li><a href="https://shiny.rstudio.com/articles/">Shiny - Articles (rstudio.com)</a></li>
</ul>
<div id="étapes-préliminaires" class="section level2">
<h2><span class="header-section-number">3.1</span> Étapes Préliminaires</h2>
<ol style="list-style-type: decimal">
<li>Installez la bibliothèque Shiny.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="construction-dun-plan-daménagement.html#cb3-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;shiny&quot;</span>)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Créez un fichier Shiny.</li>
</ol>
<div class="figure"><span id="fig:unnamed-chunk-5"></span>
<img src="images/Image1.png" alt="Appuyez sur Shiny Web App" width="204" />
<p class="caption">
Figure 3.1: Appuyez sur Shiny Web App
</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Dans la boite de dialogue, inscrire le nom de l’application et choisir un dossier ou serons enregistré les fichiers et appuyez sur créer.</li>
</ol>
<div class="figure"><span id="fig:unnamed-chunk-6"></span>
<img src="images/Image2.png" alt="Boite de dialogue pour créer une nouvelle application Shiny." width="410" />
<p class="caption">
Figure 3.2: Boite de dialogue pour créer une nouvelle application Shiny.
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Dans votre script app.R ainsi créé, effacez ce qui y est déjà inscrit et construisez le squelette de l’application.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="construction-dun-plan-daménagement.html#cb4-1"></a><span class="kw">library</span>(shiny) </span>
<span id="cb4-2"><a href="construction-dun-plan-daménagement.html#cb4-2"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb4-3"><a href="construction-dun-plan-daménagement.html#cb4-3"></a>  </span>
<span id="cb4-4"><a href="construction-dun-plan-daménagement.html#cb4-4"></a>) </span>
<span id="cb4-5"><a href="construction-dun-plan-daménagement.html#cb4-5"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</span>
<span id="cb4-6"><a href="construction-dun-plan-daménagement.html#cb4-6"></a>  </span>
<span id="cb4-7"><a href="construction-dun-plan-daménagement.html#cb4-7"></a>} </span>
<span id="cb4-8"><a href="construction-dun-plan-daménagement.html#cb4-8"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Ces lignes de code sont à la base de toute application Shiny.</p>
<p>• <code>Ui</code> : Pour “user interface”, définis la page web HTML dans laquelle l’utilisateur va interagir.<br />
• <code>Server</code> : définis les instructions pour construire les objets et le comportement de l’application.<br />
• <code>shinyApp(ui, server)</code> : Permets de combiner l’interface <code>ui</code> et les instructions <code>server</code> pour créer l’application web.</p>
<p>À cette étape, si tout fonctionne normalement, en cliquant sur le bouton <strong>Run App</strong> (figure <a href="construction-dun-plan-daménagement.html#fig:run-app">3.3</a>), vous devriez voir une page vide apparaitre.</p>
<div class="figure"><span id="fig:run-app"></span>
<img src="images/run-app.png" alt="Le bouton Run App se retrouve en haut à droite de la fenêtre du script." width="640" />
<p class="caption">
Figure 3.3: Le bouton Run App se retrouve en haut à droite de la fenêtre du script.
</p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Dans le dossier créé à l’étape 3, créez un dossier appelé “data” et copiez-y les fichiers .SHP du découpage des peuplements forestiers. Toutes les données nécessaires à la création de votre application doivent être dans ce dossier.</li>
</ol>
<div class="figure"><span id="fig:unnamed-chunk-8"></span>
<img src="images/Image3.png" alt="Contenu de votre dossier après l'étape 5" width="518" />
<p class="caption">
Figure 3.4: Contenu de votre dossier après l’étape 5
</p>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Dans votre script app.R, ajoutez les bibliothèques qui vous seront utiles pour créer cette application. Si ces bibliothèques ne sont pas déjà installées, veuillez les installer de la même façon que nous avons installé Shiny à l’étape 1.</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="construction-dun-plan-daménagement.html#cb5-1"></a><span class="kw">library</span>(sf) <span class="co"># pour manipuler des données géospatiales</span></span>
<span id="cb5-2"><a href="construction-dun-plan-daménagement.html#cb5-2"></a><span class="kw">library</span>(leaflet) <span class="co"># pour créer des cartes interactives</span></span>
<span id="cb5-3"><a href="construction-dun-plan-daménagement.html#cb5-3"></a><span class="kw">library</span>(leaflet.extras)</span>
<span id="cb5-4"><a href="construction-dun-plan-daménagement.html#cb5-4"></a><span class="kw">library</span>(tidyverse) <span class="co"># pour faciliter la programmation (opérateur &quot;%&gt;%&quot;)</span></span>
<span id="cb5-5"><a href="construction-dun-plan-daménagement.html#cb5-5"></a><span class="kw">library</span>(DT) <span class="co"># pour créer des tableaux interactifs</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Importez le fichier de découpage des peuplements dans R et changez le système de coordonnée géographique pour l’utiliser avec Leaflet.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="construction-dun-plan-daménagement.html#cb6-1"></a><span class="kw">st_read</span>(<span class="st">&quot;le_nom_de_votre_fichier.shp&quot;</span>) -&gt;<span class="st"> </span>peup_for </span>
<span id="cb6-2"><a href="construction-dun-plan-daménagement.html#cb6-2"></a><span class="cf">if</span> (<span class="op">!</span><span class="kw">st_crs</span>(peup_for)<span class="op">$</span>epsg <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">4326</span>)) <span class="kw">st_transform</span>(peup_for, <span class="dv">4326</span>) -&gt;<span class="st"> </span>peup_for</span></code></pre></div>
</div>
<div id="programmation-des-objets-qui-seront-affiché-dans-linterface" class="section level2">
<h2><span class="header-section-number">3.2</span> Programmation des objets qui seront affiché dans l’interface</h2>
<p>Ici, nous allons donner les instructions à R pour générer la carte interactive et la table des peuplements. Dans Shiny, les objets créés dans la section server, doivent être nommés de la façon suivante :</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="construction-dun-plan-daménagement.html#cb7-1"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</span>
<span id="cb7-2"><a href="construction-dun-plan-daménagement.html#cb7-2"></a>  </span>
<span id="cb7-3"><a href="construction-dun-plan-daménagement.html#cb7-3"></a>  Output<span class="op">$</span>text &lt;-<span class="kw">renderPrint</span> ({<span class="kw">print</span>(<span class="st">&quot;Hello, world!&quot;</span>)})</span>
<span id="cb7-4"><a href="construction-dun-plan-daménagement.html#cb7-4"></a>  </span>
<span id="cb7-5"><a href="construction-dun-plan-daménagement.html#cb7-5"></a>}</span></code></pre></div>
<p>Dans l’exemple ci-dessus, <code>output$text</code> indique que nous donnons les instructions pour programmer l’objet que nous avons nommé <code>text</code>.La fonction <code>renderPrint</code> va envelopper le code qui sera inscrit entre les parenthèses. Les fonctions <code>render{Type}</code> sont spécifique à l’objet que nous voulons créer. Pour la carte, nous utiliserons <code>renderLeaflet({})</code> et pour la table, <code>renderDataTable({})</code>.</p>
<div id="la-carte-interactive-1" class="section level3">
<h3><span class="header-section-number">3.2.1</span> La carte interactive</h3>
<p>Pour créer la carte interactive, nous utiliserons le “package” <a href="https://rstudio.github.io/leaflet/">Leaflet</a>.</p>
<ol style="list-style-type: decimal">
<li>Dans la section server de votre script, entre les accolades, créez l’objet “carte”.</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="construction-dun-plan-daménagement.html#cb8-1"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</span>
<span id="cb8-2"><a href="construction-dun-plan-daménagement.html#cb8-2"></a>  </span>
<span id="cb8-3"><a href="construction-dun-plan-daménagement.html#cb8-3"></a>  output<span class="op">$</span>carte &lt;-<span class="st"> </span><span class="kw">renderLeaflet</span>({<span class="kw">leaflet</span>() <span class="op">%&gt;%</span></span>
<span id="cb8-4"><a href="construction-dun-plan-daménagement.html#cb8-4"></a><span class="st">  </span></span>
<span id="cb8-5"><a href="construction-dun-plan-daménagement.html#cb8-5"></a>})</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>En dessous de la ligne <code>output$carte &lt;- renderLeaflet({leaflet() %&gt;%</code>, ajoutez le découpage des peuplements forestier et définir la symbologie.</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="construction-dun-plan-daménagement.html#cb9-1"></a>      <span class="kw">addPolygons</span>(<span class="dt">data =</span> peup_for,</span>
<span id="cb9-2"><a href="construction-dun-plan-daménagement.html#cb9-2"></a>                  <span class="dt">weight =</span> <span class="fl">1.5</span>,</span>
<span id="cb9-3"><a href="construction-dun-plan-daménagement.html#cb9-3"></a>                  <span class="dt">opacity =</span> <span class="dv">2</span>,</span>
<span id="cb9-4"><a href="construction-dun-plan-daménagement.html#cb9-4"></a>                  <span class="dt">fillOpacity =</span> <span class="dv">0</span>,</span>
<span id="cb9-5"><a href="construction-dun-plan-daménagement.html#cb9-5"></a>                  <span class="dt">options =</span> <span class="kw">pathOptions</span>(<span class="dt">pane =</span> <span class="st">&quot;Peup&quot;</span>),</span>
<span id="cb9-6"><a href="construction-dun-plan-daménagement.html#cb9-6"></a>                  <span class="dt">layerId =</span> peup_for<span class="op">$</span>No_Peup,</span>
<span id="cb9-7"><a href="construction-dun-plan-daménagement.html#cb9-7"></a>                  <span class="dt">group =</span> <span class="st">&quot;Peuplement forestier&quot;</span>)<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Ajoutez les images satellitaires fournies par Esri.</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="construction-dun-plan-daménagement.html#cb10-1"></a><span class="kw">addProviderTiles</span>(<span class="st">&#39;Esri.WorldImagery&#39;</span>, <span class="dt">group =</span> <span class="st">&quot;Satellite&quot;</span>)<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Ajoutez le modèle numérique de terrain (MNT) à partir du service <a href="http://www.igouverte.org/documentation/services-web-ogc-igo/">WMS du Ministère des forêts, faunes et parcs (MFFP)</a>.</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="construction-dun-plan-daménagement.html#cb11-1"></a><span class="kw">addWMSTiles</span>(<span class="st">&quot;https://geoegl.msp.gouv.qc.ca/ws/mffpecofor.fcgi?&quot;</span>, </span>
<span id="cb11-2"><a href="construction-dun-plan-daménagement.html#cb11-2"></a>            <span class="dt">layers =</span> <span class="st">&quot;lidar_ombre&quot;</span>, </span>
<span id="cb11-3"><a href="construction-dun-plan-daménagement.html#cb11-3"></a>            <span class="dt">options =</span> <span class="kw">WMSTileOptions</span>(<span class="dt">format =</span> <span class="st">&quot;image/png&quot;</span>, <span class="dt">transparent =</span> <span class="ot">TRUE</span>),<span class="dt">group =</span> <span class="st">&quot;Relief&quot;</span>)<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Ajoutez le modèle hauteur de canopée (MHC) du MFFP.</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="construction-dun-plan-daménagement.html#cb12-1"></a><span class="kw">addWMSTiles</span>(<span class="st">&quot;https://geoegl.msp.gouv.qc.ca/ws/mffpecofor.fcgi?&quot;</span>, </span>
<span id="cb12-2"><a href="construction-dun-plan-daménagement.html#cb12-2"></a>            <span class="dt">layers =</span> <span class="st">&quot;lidar_mhc&quot;</span>, </span>
<span id="cb12-3"><a href="construction-dun-plan-daménagement.html#cb12-3"></a>            <span class="dt">options =</span> <span class="kw">WMSTileOptions</span>(<span class="dt">format =</span> <span class="st">&quot;image/png&quot;</span>, <span class="dt">transparent =</span> <span class="ot">TRUE</span>),</span>
<span id="cb12-4"><a href="construction-dun-plan-daménagement.html#cb12-4"></a>            <span class="dt">group =</span> <span class="st">&quot;Hauteur de canopée&quot;</span>)<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Ajoutez la légende pour le MHC.</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="construction-dun-plan-daménagement.html#cb13-1"></a><span class="kw">addWMSLegend</span>(<span class="dt">position =</span> <span class="st">&quot;bottomright&quot;</span>, <span class="st">&quot;https://geoegl.msp.gouv.qc.ca/ws/mffpecofor.fcgi?version=1.3.0&amp;service=WMS&amp;request=GetLegendGraphic&amp;sld_version=1.1.0&amp;layer=lidar_mhc&amp;format=image/png&amp;STYLE=default&quot;</span>, </span>
<span id="cb13-2"><a href="construction-dun-plan-daménagement.html#cb13-2"></a>            <span class="dt">layerId =</span> <span class="st">&quot;Hauteur de canopée&quot;</span>)<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Ajoutez les contrôles de la carte.</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="construction-dun-plan-daménagement.html#cb14-1"></a><span class="kw">addLayersControl</span>(<span class="dt">overlayGroups =</span> <span class="kw">c</span>(<span class="st">&quot;Peuplement forestier&quot;</span>),</span>
<span id="cb14-2"><a href="construction-dun-plan-daménagement.html#cb14-2"></a>                 <span class="dt">baseGroups=</span> <span class="kw">c</span>(<span class="st">&quot;Satellite&quot;</span>,<span class="st">&quot;Hauteur de canopée&quot;</span>,<span class="st">&quot;Relief&quot;</span>),</span>
<span id="cb14-3"><a href="construction-dun-plan-daménagement.html#cb14-3"></a>                 <span class="dt">options =</span> <span class="kw">layersControlOptions</span>(<span class="dt">collapsed =</span> <span class="ot">TRUE</span>))<span class="op">%&gt;%</span></span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>Ajoutez la barre d’échelle</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="construction-dun-plan-daménagement.html#cb15-1"></a><span class="kw">addScaleBar</span>(<span class="dt">position =</span> <span class="st">&quot;bottomleft&quot;</span>)</span>
<span id="cb15-2"><a href="construction-dun-plan-daménagement.html#cb15-2"></a></span>
<span id="cb15-3"><a href="construction-dun-plan-daménagement.html#cb15-3"></a><span class="er">})</span></span></code></pre></div>
</div>
<div id="la-table-des-peuplements" class="section level3">
<h3><span class="header-section-number">3.2.2</span> La table des peuplements</h3>
<p>Pour créer le tableau interactif, nous utiliserons la “pakage” <a href="https://rstudio.github.io/DT/">DT</a>.</p>
<ol style="list-style-type: decimal">
<li>Créez un nouveau tableau de données (“data frame”) à partir du tableau de données “peup_for” et manipulez les données en vue d’intégrer ces données dans le tableau. À cette étape, il est nécessaire de supprimer la géométrie pour afficher les données dans un tableau.</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="construction-dun-plan-daménagement.html#cb16-1"></a>peup_for<span class="op">%&gt;%</span></span>
<span id="cb16-2"><a href="construction-dun-plan-daménagement.html#cb16-2"></a><span class="st">  </span>st_drop_geometry <span class="op">%&gt;%</span><span class="st"> </span><span class="co">#supprime la géométrie</span></span>
<span id="cb16-3"><a href="construction-dun-plan-daménagement.html#cb16-3"></a><span class="st">  </span><span class="kw">subset</span>(<span class="dt">select=</span> <span class="op">-</span>OBJECTID)<span class="op">%&gt;%</span><span class="st"> </span><span class="co">#supprime les champs inutiles</span></span>
<span id="cb16-4"><a href="construction-dun-plan-daménagement.html#cb16-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sup_ha=</span> <span class="kw">round</span>(sup_ha,<span class="dv">2</span>))<span class="op">%&gt;%</span><span class="st"> </span><span class="co"># arrondit le champ &quot;sup_ha&quot;</span></span>
<span id="cb16-5"><a href="construction-dun-plan-daménagement.html#cb16-5"></a><span class="st">  </span><span class="kw">arrange</span>(No_Peup)-&gt;info <span class="co"># Ordonne le tableau en ordre croissant en fonction du champ &quot;No_Peup&quot;</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Créez l’objet <code>tableau</code></li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="construction-dun-plan-daménagement.html#cb17-1"></a>  output<span class="op">$</span>tableau&lt;-<span class="st"> </span><span class="kw">renderDataTable</span>({</span>
<span id="cb17-2"><a href="construction-dun-plan-daménagement.html#cb17-2"></a>    <span class="kw">datatable</span>(info,</span>
<span id="cb17-3"><a href="construction-dun-plan-daménagement.html#cb17-3"></a>              <span class="dt">colnames =</span> <span class="kw">c</span>(<span class="st">&quot;# Peuplement&quot;</span>, <span class="st">&quot;Affectation&quot;</span>, <span class="st">&quot;Groupement d&#39;essence&quot;</span>, <span class="st">&quot;Classe de densité&quot;</span>, <span class="st">&quot;Classe de hauteur&quot;</span>, <span class="st">&quot;Classe d&#39;âge&quot;</span>, <span class="st">&quot;Type de couvert&quot;</span>, <span class="st">&quot;Travaux suggérés&quot;</span>,<span class="st">&quot;Échéancier&quot;</span>,<span class="st">&quot;Superficie (ha)&quot;</span>),</span>
<span id="cb17-4"><a href="construction-dun-plan-daménagement.html#cb17-4"></a>              <span class="dt">rownames =</span> <span class="ot">FALSE</span>,</span>
<span id="cb17-5"><a href="construction-dun-plan-daménagement.html#cb17-5"></a>              <span class="dt">options =</span> <span class="kw">list</span>(</span>
<span id="cb17-6"><a href="construction-dun-plan-daménagement.html#cb17-6"></a>                <span class="dt">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb17-7"><a href="construction-dun-plan-daménagement.html#cb17-7"></a>                <span class="dt">stateSave=</span><span class="ot">TRUE</span>),</span>
<span id="cb17-8"><a href="construction-dun-plan-daménagement.html#cb17-8"></a>              <span class="dt">selection =</span> <span class="st">&#39;single&#39;</span>)})</span></code></pre></div>
</div>
</div>
<div id="programmation-des-interactions-entre-la-carte-et-la-table-des-peuplements" class="section level2">
<h2><span class="header-section-number">3.3</span> Programmation des interactions entre la carte et la table des peuplements</h2>
<p>Avec Shiny, il est possible de programmer des interactions entre plusieurs objets d’une même application. Pour bien comprendre les étapes suivantes, veuillez vous référer aux site web suivant :</p>
<ul>
<li><a href="https://mastering-shiny.org/basic-reactivity.html">Chapter 4 Basic reactivity | Mastering Shiny</a></li>
<li><a href="https://shiny.rstudio.com/articles/reactivity-overview.html">Reactivity - An overview</a></li>
<li><a href="https://shiny.rstudio.com/articles/understanding-reactivity.html">How to understand reactivity in R</a></li>
</ul>
<p>Avec les lignes de codes qui vous seront présentés ci-dessous, lorsque l’utilisateur cliquera sur un peuplement de la carte, ce peuplement sera mis en évidence et la ligne correspondant à celui-ci dans le tableau sera elle aussi mise en évidence. Il sera aussi possible de sélectionner une ligne dans le tableau pour mettre en évidence le peuplement correspondant.</p>
<ol style="list-style-type: decimal">
<li>Avec la fonction <code>reactive</code>, nous allons enregistrer dans la variable num_peup, le numéro de la ligne du tableau qui est sélectionnée. Le numéro de la ligne du tableau doit correspondre au numéro de peuplement. C’est pour cette raison que nous avons ordonné les numéros de peuplements en ordre croissant à l’étape 1 de la section <a href="construction-dun-plan-daménagement.html#la-table-des-peuplements">3.2.2</a>.</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="construction-dun-plan-daménagement.html#cb18-1"></a>  num_peup &lt;-<span class="st"> </span><span class="kw">reactive</span>({</span>
<span id="cb18-2"><a href="construction-dun-plan-daménagement.html#cb18-2"></a>    info<span class="op">$</span>No_Peup[input<span class="op">$</span>tableau_rows_selected]})</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Les prochaines lignes de code vont nous permettre de dessiner par-dessus le peuplement sélectionné, soit dans la carte ou dans la table, le même polygone, mais de couleur rouge. Pour ce faire, nous utiliserons la fonction <code>observe</code> et une clause <code>if</code> pour y arriver. La fonction <code>leafletProxy()</code> permet de mettre à jour la carte.</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="construction-dun-plan-daménagement.html#cb19-1"></a>  <span class="kw">observe</span>({</span>
<span id="cb19-2"><a href="construction-dun-plan-daménagement.html#cb19-2"></a>    <span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(<span class="kw">num_peup</span>())){</span>
<span id="cb19-3"><a href="construction-dun-plan-daménagement.html#cb19-3"></a>      <span class="kw">observeEvent</span>(input<span class="op">$</span>tableau_rows_selected,</span>
<span id="cb19-4"><a href="construction-dun-plan-daménagement.html#cb19-4"></a>                   {num_peup =<span class="st"> </span>input<span class="op">$</span>tableau_rows_selected</span>
<span id="cb19-5"><a href="construction-dun-plan-daménagement.html#cb19-5"></a>                   peup_surling&lt;-<span class="st"> </span><span class="kw">subset</span>(peup_for,peup_for<span class="op">$</span>No_Peup<span class="op">==</span>num_peup)</span>
<span id="cb19-6"><a href="construction-dun-plan-daménagement.html#cb19-6"></a></span>
<span id="cb19-7"><a href="construction-dun-plan-daménagement.html#cb19-7"></a>                   <span class="kw">leafletProxy</span>(<span class="st">&#39;map&#39;</span>)<span class="op">%&gt;%</span></span>
<span id="cb19-8"><a href="construction-dun-plan-daménagement.html#cb19-8"></a><span class="st">                     </span><span class="kw">removeShape</span>(<span class="st">&quot;highlighted_polygon&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb19-9"><a href="construction-dun-plan-daménagement.html#cb19-9"></a><span class="st">                     </span><span class="kw">addPolygons</span>(<span class="dt">data =</span> peup_surling,</span>
<span id="cb19-10"><a href="construction-dun-plan-daménagement.html#cb19-10"></a>                                 <span class="dt">weight =</span> <span class="dv">3</span>,</span>
<span id="cb19-11"><a href="construction-dun-plan-daménagement.html#cb19-11"></a>                                 <span class="dt">opacity =</span> <span class="dv">100</span>,</span>
<span id="cb19-12"><a href="construction-dun-plan-daménagement.html#cb19-12"></a>                                 <span class="dt">fillOpacity =</span> <span class="dv">0</span>,</span>
<span id="cb19-13"><a href="construction-dun-plan-daménagement.html#cb19-13"></a>                                 <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb19-14"><a href="construction-dun-plan-daménagement.html#cb19-14"></a>                                 <span class="dt">layerId =</span> <span class="st">&quot;highlighted_polygon&quot;</span>)</span>
<span id="cb19-15"><a href="construction-dun-plan-daménagement.html#cb19-15"></a></span>
<span id="cb19-16"><a href="construction-dun-plan-daménagement.html#cb19-16"></a>                   })}</span>
<span id="cb19-17"><a href="construction-dun-plan-daménagement.html#cb19-17"></a>    <span class="cf">else</span>{<span class="kw">leafletProxy</span>(<span class="st">&quot;map&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb19-18"><a href="construction-dun-plan-daménagement.html#cb19-18"></a><span class="st">        </span><span class="kw">removeShape</span>(<span class="st">&quot;highlighted_polygon&quot;</span>)</span>
<span id="cb19-19"><a href="construction-dun-plan-daménagement.html#cb19-19"></a>    }})</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Pour que le polygone rouge apparaisse par-dessus les autres polygones, nous devons ajouter deux commandes dans les instruction de la carte en dessous de la ligne <code>output$map &lt;- renderLeaflet({leaflet() %&gt;%</code>.</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="construction-dun-plan-daménagement.html#cb20-1"></a>      <span class="kw">addMapPane</span>(<span class="st">&quot;highlighted_polygon&quot;</span>,<span class="dt">zIndex =</span> <span class="dv">410</span>)<span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Augmente l&#39;altitude du polygone rouge</span></span>
<span id="cb20-2"><a href="construction-dun-plan-daménagement.html#cb20-2"></a><span class="st">      </span><span class="kw">addMapPane</span>(<span class="st">&quot;Peup&quot;</span>,<span class="dt">zIndex =</span> <span class="dv">300</span>)<span class="op">%&gt;%</span><span class="st"> </span><span class="co"># </span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Enfin, nous voulons que la rangée du tableau correspondant au peuplement sélectionné dans la carte soit mise en évidence. Pour faire cela, nous utiliserons la fonction <code>observeEvent</code> pour que lorsqu’un peuplement est sélectionné, son identifiant soit enregistré dans la variable <code>clickid</code>. Cette variable sera utilisée dans la fonction <code>dataTableProxy</code> pour mettre à jour le tableau avec la rangée surlignée et à la bonne page.</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="construction-dun-plan-daménagement.html#cb21-1"></a> <span class="kw">observeEvent</span>( input<span class="op">$</span>map_shape_click, { </span>
<span id="cb21-2"><a href="construction-dun-plan-daménagement.html#cb21-2"></a>  clickid&lt;-input<span class="op">$</span>map_shape_click<span class="op">$</span>id</span>
<span id="cb21-3"><a href="construction-dun-plan-daménagement.html#cb21-3"></a>  <span class="kw">dataTableProxy</span>(<span class="st">&quot;tableau&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb21-4"><a href="construction-dun-plan-daménagement.html#cb21-4"></a><span class="st">    </span><span class="kw">selectRows</span>(<span class="kw">which</span>(input<span class="op">$</span>tableau_rows_all <span class="op">==</span><span class="st"> </span>clickid)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Sélectionne la rangée</span></span>
<span id="cb21-5"><a href="construction-dun-plan-daménagement.html#cb21-5"></a><span class="st">    </span><span class="kw">selectPage</span>(<span class="kw">which</span>(input<span class="op">$</span>tableau_rows_all <span class="op">==</span><span class="st"> </span>clickid) <span class="op">%/%</span><span class="st">  </span><span class="co"># Sélectionne la page</span></span>
<span id="cb21-6"><a href="construction-dun-plan-daménagement.html#cb21-6"></a><span class="st">                 </span>input<span class="op">$</span>tableau_state<span class="op">$</span>length <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)})</span></code></pre></div>
</div>
<div id="programation-de-linterface" class="section level2">
<h2><span class="header-section-number">3.4</span> Programation de l’interface</h2>
<p>Dans cette section nous verrons comment programmer la disposition des objets que nous avons créée dans l’interface. Pour ce faire, toutes les commandes que nous aborderons ci-dessous doivent être inscrites dans la section ui de notre script. Dans notre exemple, nous utiliserons la fonction fluidRow pour placer la carte au-dessus du tableau. Pour bien comprendre comment les interfaces sont programmées avec Shiny, consultez la page web suivante :</p>
<ul>
<li><a href="https://shiny.rstudio.com/articles/layout-guide.html">Shiny - Application layout guide (rstudio.com)</a></li>
<li><a href="https://mastering-shiny.org/basic-ui.html">Chapter 3 Basic UI | Mastering Shiny</a></li>
</ul>
<ol style="list-style-type: decimal">
<li>Entre les parenthèses de la fonction <code>ui &lt;- fluidPage()</code>, inscrire les lignes de codes suivantes :</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="construction-dun-plan-daménagement.html#cb22-1"></a><span class="co"># La carte dams la première rangée</span></span>
<span id="cb22-2"><a href="construction-dun-plan-daménagement.html#cb22-2"></a>  <span class="kw">fluidRow</span>(<span class="kw">column</span>(<span class="dt">width=</span><span class="dv">8</span>, <span class="co"># Largeur de la carte</span></span>
<span id="cb22-3"><a href="construction-dun-plan-daménagement.html#cb22-3"></a>                  <span class="dt">offset=</span> <span class="dv">2</span>, <span class="co"># Décalage de la carte par aux bordures</span></span>
<span id="cb22-4"><a href="construction-dun-plan-daménagement.html#cb22-4"></a>                  <span class="kw">h2</span>(<span class="st">&quot;Carte du lot&quot;</span>), <span class="co">#Titre</span></span>
<span id="cb22-5"><a href="construction-dun-plan-daménagement.html#cb22-5"></a>                  <span class="kw">leafletOutput</span>(<span class="dt">outputId =</span> <span class="st">&quot;carte&quot;</span>, <span class="co"># Nom de l&#39;objet qui a créé du côté serveur</span></span>
<span id="cb22-6"><a href="construction-dun-plan-daménagement.html#cb22-6"></a>                                <span class="dt">height =</span> <span class="dv">600</span>))), <span class="co"># Hauteur de l&#39;objet</span></span>
<span id="cb22-7"><a href="construction-dun-plan-daménagement.html#cb22-7"></a><span class="co"># Le tableau dans la deuxième rangée</span></span>
<span id="cb22-8"><a href="construction-dun-plan-daménagement.html#cb22-8"></a>  <span class="kw">fluidRow</span>(<span class="kw">column</span>(<span class="dt">width=</span><span class="dv">10</span>,</span>
<span id="cb22-9"><a href="construction-dun-plan-daménagement.html#cb22-9"></a>                  <span class="dt">offset=</span> <span class="dv">1</span>,</span>
<span id="cb22-10"><a href="construction-dun-plan-daménagement.html#cb22-10"></a>                  <span class="kw">dataTableOutput</span>(<span class="dt">outputId =</span> <span class="st">&quot;tableau&quot;</span>)))</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Testez l’aplication en appuyant sur le bouton Run App (figure <a href="construction-dun-plan-daménagement.html#fig:run-app">3.3</a>)</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="description-du-plan-daménagement-numérique.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
